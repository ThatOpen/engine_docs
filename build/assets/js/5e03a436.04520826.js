"use strict";(self.webpackChunkengine_docs=self.webpackChunkengine_docs||[]).push([[5749],{9767:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var t=i(4848),a=i(8453);const r={},s=void 0,o={id:"Tutorials/UserInterface/OBC/ViewCube",title:"ViewCube",description:'window.open("https://thatopen.github.io/engine_ui-components/examples/ViewCube")} >Go Full Screen',source:"@site/docs/Tutorials/UserInterface/OBC/ViewCube.mdx",sourceDirName:"Tutorials/UserInterface/OBC",slug:"/Tutorials/UserInterface/OBC/ViewCube",permalink:"/Tutorials/UserInterface/OBC/ViewCube",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"TopicsUI",permalink:"/Tutorials/UserInterface/OBC/TopicsUI"},next:{title:"\ud83d\udccb API",permalink:"/api/"}},c={},l=[{value:"\ud83e\udded Navigating your 3D Scene with the ViewCube",id:"-navigating-your-3d-scene-with-the-viewcube",level:2},{value:"\ud83d\udd96 Importing our Libraries",id:"-importing-our-libraries",level:3},{value:"\ud83d\udea6 Initializing the UI",id:"-initializing-the-ui",level:3},{value:"\ud83c\udf0e Setting up a Simple 3D Scene",id:"-setting-up-a-simple-3d-scene",level:3},{value:"\u2795 Adding Grids and Initializing Components",id:"-adding-grids-and-initializing-components",level:3},{value:"\ud83e\uddca Adding the ViewCube",id:"-adding-the-viewcube",level:3},{value:"\ud83d\udd04 Keeping the ViewCube in Sync",id:"-keeping-the-viewcube-in-sync",level:3},{value:"\ud83d\uddb1\ufe0f Handling ViewCube Interactions",id:"\ufe0f-handling-viewcube-interactions",level:3},{value:"\ud83d\uddbc\ufe0f Laying Out the UI",id:"\ufe0f-laying-out-the-ui",level:3},{value:"\ud83c\udf89 That&#39;s it!",id:"-thats-it",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("iframe",{src:"https://thatopen.github.io/engine_ui-components/examples/ViewCube"}),(0,t.jsx)("button",{class:"full-screen-btn",onClick:()=>window.open("https://thatopen.github.io/engine_ui-components/examples/ViewCube"),children:"Go Full Screen"})]}),"\n",(0,t.jsx)(n.admonition,{title:"Source",type:"info",children:(0,t.jsxs)(n.p,{children:["Copying and pasting? We've got you covered! You can find the full source code of this tutorial ",(0,t.jsx)(n.a,{href:"https://github.com/ThatOpen/engine_ui-components/blob/main/packages/obc/src/core/ViewCube/example.ts",children:"here"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"-navigating-your-3d-scene-with-the-viewcube",children:"\ud83e\udded Navigating your 3D Scene with the ViewCube"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"The ViewCube is a handy UI component that lets users quickly orient the camera in a 3D scene. In this tutorial, you'll learn how to add a ViewCube to your app, connect it to your camera, and let users interact with it to change their view."}),"\n",(0,t.jsx)(n.h3,{id:"-importing-our-libraries",children:"\ud83d\udd96 Importing our Libraries"}),"\n",(0,t.jsx)(n.p,{children:"We'll need:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@thatopen-platform/ui-beta"})," for UI initialization."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@thatopen-platform/components-beta"})," for the 3D engine and scene management."]}),"\n",(0,t.jsx)(n.li,{children:"The local UI components package for extra UI features."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import * as BUI from "@thatopen/ui";\nimport * as OBC from "@thatopen/components";\nimport * as CUI from "../..";\n'})}),"\n",(0,t.jsx)(n.h3,{id:"-initializing-the-ui",children:"\ud83d\udea6 Initializing the UI"}),"\n",(0,t.jsx)(n.p,{children:"As always, initialize the UI libraries at the start of your app:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"BUI.Manager.init();\nCUI.Manager.init();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"-setting-up-a-simple-3d-scene",children:"\ud83c\udf0e Setting up a Simple 3D Scene"}),"\n",(0,t.jsx)(n.p,{children:"Let's create a basic 3D world with a scene, camera, and renderer:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const components = new OBC.Components();\nconst worlds = components.get(OBC.Worlds);\nconst world = worlds.create<\n  OBC.SimpleScene,\n  OBC.SimpleCamera,\n  OBC.SimpleRenderer\n>();\n\nworld.scene = new OBC.SimpleScene(components);\nconst viewport = document.createElement("bim-viewport");\nworld.renderer = new OBC.SimpleRenderer(components, viewport);\n\nworld.camera = new OBC.SimpleCamera(components);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"-adding-grids-and-initializing-components",children:"\u2795 Adding Grids and Initializing Components"}),"\n",(0,t.jsx)(n.p,{children:"Optionally, add a grid to your scene and initialize all components:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const grids = components.get(OBC.Grids);\ngrids.create(world);\n\ncomponents.init();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"-adding-the-viewcube",children:"\ud83e\uddca Adding the ViewCube"}),"\n",(0,t.jsx)(n.p,{children:"Now, let's add the ViewCube and connect it to the camera:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const viewCube = document.createElement("bim-view-cube");\nviewCube.camera = world.camera.three;\nviewport.append(viewCube);\n'})}),"\n",(0,t.jsx)(n.p,{children:"This attaches the ViewCube to your viewport and links it to your camera's Three.js instance."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js"})}),"\n",(0,t.jsx)(n.h3,{id:"-keeping-the-viewcube-in-sync",children:"\ud83d\udd04 Keeping the ViewCube in Sync"}),"\n",(0,t.jsx)(n.p,{children:"To keep the ViewCube orientation updated as the camera moves, listen for camera control updates:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'world.camera.controls.addEventListener("update", () =>\n  viewCube.updateOrientation(),\n);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-handling-viewcube-interactions",children:"\ud83d\uddb1\ufe0f Handling ViewCube Interactions"}),"\n",(0,t.jsx)(n.p,{children:"You can let users click on the ViewCube to change the camera's orientation. For example, set the camera to a specific view when the left face is clicked:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'viewCube.addEventListener("back", () => {\n  world.camera.controls.setLookAt(-10, 10, 0, 1, 10, 0, true);\n});\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\ufe0f-laying-out-the-ui",children:"\ud83d\uddbc\ufe0f Laying Out the UI"}),"\n",(0,t.jsx)(n.p,{children:"Let's use a grid layout to display the viewport:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'const app = document.getElementById("app") as BUI.Grid;\napp.layouts = {\n  main: {\n    template: `\n      "viewport"\n    `,\n    elements: { viewport },\n  },\n};\n'})}),"\n",(0,t.jsx)(n.h2,{id:"-thats-it",children:"\ud83c\udf89 That's it!"}),"\n",(0,t.jsx)(n.p,{children:"You now have a fully interactive ViewCube in your 3D scene, letting users easily orient themselves and explore your BIM models!"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>o});var t=i(6540);const a={},r=t.createContext(a);function s(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);